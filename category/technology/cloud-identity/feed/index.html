<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Cloud Identity | FrankThoughts</title>
	<atom:link href="https://frankhu-rds.github.io/frankthoughts/category/technology/cloud-identity/feed/" rel="self" type="application/rss+xml" />
	<link>https://frankhu-rds.github.io/frankthoughts/</link>
	<description>Frank-Auth-Expert</description>
	<lastBuildDate>Sat, 28 Jan 2023 21:18:03 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.1.1</generator>
	<item>
		<title>What is OAuth2?</title>
		<link>https://frankhu-rds.github.io/frankthoughts/2023/01/235/</link>
					<comments>https://frankhu-rds.github.io/frankthoughts/2023/01/235/#respond</comments>
		
		<dc:creator><![CDATA[frank_hu123]]></dc:creator>
		<pubDate>Sat, 28 Jan 2023 21:08:21 +0000</pubDate>
				<category><![CDATA[Cloud Identity]]></category>
		<guid isPermaLink="false">https://frankhu-rds.github.io/frankthoughts/?p=235</guid>

					<description><![CDATA[]]></description>
										<content:encoded><![CDATA[<p><div class="et_pb_section et_pb_section_0 et_section_regular" >
				
				
				
				
				
				
				<div class="et_pb_row et_pb_row_0 et_pb_gutters2">
				<div class="et_pb_column et_pb_column_3_4 et_pb_column_0  et_pb_css_mix_blend_mode_passthrough">
				
				
				
				
				<div class="et_pb_with_border et_pb_module et_pb_text et_pb_text_0  et_pb_text_align_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_text_inner">What is OAuth2?</div>
			</div><div class="et_pb_module et_pb_text et_pb_text_1  et_pb_text_align_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_text_inner"> Comments </div>
			</div>
			</div><div class="et_pb_column et_pb_column_1_4 et_pb_column_1  et_pb_css_mix_blend_mode_passthrough et-last-child">
				
				
				
				
				<div class="et_pb_module et_pb_blurb et_pb_blurb_0 et_hover_enabled  et_pb_text_align_center  et_pb_blurb_position_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_blurb_content">
					
					<div class="et_pb_blurb_container">
						<h4 class="et_pb_module_header"><span>Written by </span></h4>
						
					</div>
				</div>
			</div><div class="et_pb_module et_pb_blurb et_pb_blurb_1 et_hover_enabled  et_pb_text_align_center  et_pb_blurb_position_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_blurb_content">
					<div class="et_pb_main_blurb_image"><span class="et_pb_image_wrap"><span class="et-waypoint et_pb_animation_off et_pb_animation_off_tablet et_pb_animation_off_phone et-pb-icon"></span></span></div>
					<div class="et_pb_blurb_container">
						
						
					</div>
				</div>
			</div><div class="et_pb_module et_pb_blurb et_pb_blurb_2 et_hover_enabled  et_pb_text_align_center  et_pb_blurb_position_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_blurb_content">
					<div class="et_pb_main_blurb_image"><span class="et_pb_image_wrap"><span class="et-waypoint et_pb_animation_off et_pb_animation_off_tablet et_pb_animation_off_phone et-pb-icon"></span></span></div>
					<div class="et_pb_blurb_container">
						
						
					</div>
				</div>
			</div>
			</div>
				
				
				
				
			</div>
				
				
			</div><div class="et_pb_section et_pb_section_1 et_hover_enabled et_section_specialty" >
				
				
				
				
				
				<div class="et_pb_row et_pb_gutters2">
				<div class="et_pb_column et_pb_column_3_4 et_pb_column_2   et_pb_specialty_column  et_pb_css_mix_blend_mode_passthrough">
				
				
				
				
				<div class="et_pb_row_inner et_pb_row_inner_0 et_hover_enabled">
				<div class="et_pb_column et_pb_column_4_4 et_pb_column_inner et_pb_column_inner_0 et_hover_enabled et-last-child">
				
				
				
				
				<div class="et_pb_module et_pb_image et_pb_image_0">
				
				
				
				
				<span class="et_pb_image_wrap "></span>
			</div><div class="et_pb_module et_pb_image et_pb_image_1">
				
				
				
				
				<span class="et_pb_image_wrap "><img decoding="async" src="https://frankhu-rds.github.io/frankthoughts/wp-content/uploads/2023/01/oauth2flow.png" alt="" title="oauth2flow" /></span>
			</div><div class="et_pb_module et_pb_text et_pb_text_2  et_pb_text_align_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_text_inner"><p>Hello there!</p>
<p>As being a Software Engineer in the Auth space for nearly a decade, I have had the opportunity to work with a wide variety of technologies and systems over the years. One of the most important of these is OAuth2, an open standard for authorization that is widely used across the internet.</p>
<p>OAuth2 is a powerful tool that allows users to grant third-party applications access to their resources, without having to share their login credentials. This is done through the use of &#8220;access tokens,&#8221; which can be issued by the user&#8217;s account provider (such as Google or Facebook) and used by the third-party application to access the user&#8217;s resources.</p>
<p>At its core, OAuth2 is all about giving users control over their data. With OAuth2, users can choose which applications they want to share their data with, and can revoke access at any time. This is a major improvement over the traditional system of sharing login credentials, which can be easily compromised and provides no way for users to control access to their data.</p>
<p>My experience at Microsoft and Amazon has been primarily working with OAuth2 to allow users to secure their applications using Azure AD, Cognito, and other identity stores. In addition to that you&#8217;ll see a B2C application that would leverage the ability to utilize sso between Google or some other identity store that allows for 3rd party authorization. </p>
<p>But OAuth2 is not just for big companies like Amazon or Microsoft, it&#8217;s for any website or app that wants to offer a secure and seamless login experience for their users. It&#8217;s also used by companies that want to provide their users with the ability to share their data with other companies, such as their fitness tracker data with their insurance company.</p>
<p>&nbsp;</p></div>
			</div><div class="et_pb_module et_pb_text et_pb_text_3  et_pb_text_align_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_text_inner"><blockquote>
<p><span style="font-size: 18px;">OAuth2 is a flexible standard that supports several different &#8220;flows,&#8221; or methods for obtaining an access token. Here are a few of the most common OAuth2 flows:</span></p>
</blockquote></div>
			</div><div class="et_pb_module et_pb_text et_pb_text_4  et_pb_text_align_left et_pb_bg_layout_light">
				
				
				
				
				<div class="et_pb_text_inner"><div class="w-full border-b border-black/10 dark:border-gray-900/50 text-gray-800 dark:text-gray-100 group bg-gray-50 dark:bg-&#091;#444654&#093;">
<div class="text-base gap-4 md:gap-6 m-auto md:max-w-2xl lg:max-w-2xl xl:max-w-3xl p-4 md:py-6 flex lg:px-0">
<div class="relative flex w-&#091;calc(100%-50px)&#093; flex-col gap-1 md:gap-3 lg:w-&#091;calc(100%-115px)&#093;">
<div class="flex flex-grow flex-col gap-3">
<div class="min-h-&#091;20px&#093; flex flex-col items-start gap-4 whitespace-pre-wrap">
<div class="markdown prose w-full break-words dark:prose-invert light">
<p style="text-align: justify;">
<ol>
<li>The &#8220;Authorization Code Flow&#8221; is the most common flow used by web applications. In this flow, the user is redirected to the authorization server, where they are prompted to grant the client application access to their resources. After the user grants access, the authorization server redirects the user back to the client application with an authorization code. The client application can then use this authorization code to request an access token from the authorization server.
</li>
<li>The &#8220;Implicit Flow&#8221; is similar to the Authorization Code Flow, but it is intended for use by client applications that are unable to securely store the authorization code. In this flow, the authorization server returns the access token directly to the client application, rather than an authorization code.
</li>
<li>The &#8220;Resource Owner Password Credentials Flow&#8221; is used when the client application is trusted and the user is able to provide their username and password to the application.
</li>
<li>The &#8220;Client Credentials Flow&#8221; is used when the client application needs to access its own resources, without a user&#8217;s interaction.
</li>
<li>Another flow is the &#8220;Device flow&#8221; which is similar to the Authorization Code Flow but intended for limited input device scenarios.
</li>
<li>The &#8220;Refresh Token Flow&#8221; is used to refresh an expired access token.</li>
</ol>
<p>It&#8217;s important to note that different flows are more or less suitable for different use cases, and it&#8217;s important to choose the right flow based on the requirements of the application and the user experience.</p>
<p><span style="font-size: 14px;"> </span></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>In summary, OAuth2 is a powerful and flexible standard that allows users to share their resources with third-party applications, while maintaining control over their data.</p>
<p>Thank you for taking the time to learn about OAuth2, I hope this information is valuable for you and your business.</p></div>
			</div>
			</div>
				
				
				
				
			</div>
			</div><div class="et_pb_column et_pb_column_1_4 et_pb_column_3    et_pb_css_mix_blend_mode_passthrough et_pb_column_empty">
				
				
				
				
				
			</div>
				</div>
				
			</div></p>
]]></content:encoded>
					
					<wfw:commentRss>https://frankhu-rds.github.io/frankthoughts/2023/01/235/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Azure Active Directory &#8211; How to Give Permissions for a specific user in Azure Active Directory</title>
		<link>https://frankhu-rds.github.io/frankthoughts/2018/06/azure-active-directory-giving-permissions-for-a-specific-user/</link>
					<comments>https://frankhu-rds.github.io/frankthoughts/2018/06/azure-active-directory-giving-permissions-for-a-specific-user/#respond</comments>
		
		<dc:creator><![CDATA[frank_hu123]]></dc:creator>
		<pubDate>Sun, 17 Jun 2018 03:19:14 +0000</pubDate>
				<category><![CDATA[Cloud Identity]]></category>
		<category><![CDATA[AAD]]></category>
		<category><![CDATA[Azure Active Directory]]></category>
		<category><![CDATA[Enterprise Application]]></category>
		<category><![CDATA[One]]></category>
		<category><![CDATA[Permissions]]></category>
		<category><![CDATA[Service Principal]]></category>
		<category><![CDATA[Single]]></category>
		<category><![CDATA[Specific]]></category>
		<category><![CDATA[User]]></category>
		<guid isPermaLink="false">http://frankhu-rds.github.io/frankthoughts/?p=100</guid>

					<description><![CDATA[Introduction This post is to help to teach How to Give Permissions for a specific user in Azure Active Directory. This post will assume that your API is already set up properly and you have Global Admin rights to grant the permissions to a specific user. If you are not a global admin for the [&#8230;]]]></description>
										<content:encoded><![CDATA[<h1>Introduction</h1>
<p>This post is to help to teach How to Give Permissions for a specific user in Azure Active Directory. This post will assume that your API is already set up properly and you have Global Admin rights to grant the permissions to a specific user. If you are not a global admin for the tenant, you will receive a 400 error saying that you are not authorized to do this. For more information on setting up to utilize the Microsoft Graph API or AAD Graph API please refer to this article: <a href="https://blogs.msdn.microsoft.com/aaddevsup/2018/05/23/using-postman-to-call-the-microsoft-graph-api-using-authorization-code-flow/">https://blogs.msdn.microsoft.com/aaddevsup/2018/05/23/using-postman-to-call-the-microsoft-graph-api-using-authorization-code-flow/</a></p>
<h1>Granting Permissions to a Specific User</h1>
<p>When trying to grant a permission to an individual user you will have to grant a specific OAuth2permisison in the tenant for the user. You can do this by using the OAuth2PermissionGrants endpoint.<br />
The only option right now is to utilize the Azure Active Directory(AAD) Graph API endpoint as the Microsoft Graph API doesn&#8217;t support this feature yet.<br />
First, you will want to create an AAD Application Registration, and to press the grant permissions for the Application Registration. This will create an enterprise application for your AAD Application Registration which you will need later.<br />
Using the AAD Graph API, you will want to make a post request to <em>https://graph.windows.net/$tenant/oauth2PermissionGrants?API-version=1.6</em><br />
Replacing <em>$tenant</em> with your tenant ID.<br />
In the request body, you will need to describe the properties for your new Oauth2PermissionGrant. I&#8217;ve described what you will need in your body below.</p>
<pre>{
"clientId": "This is the objectID of the enterprise application/service principal of the AAD Application Registration. You can find this by going to your enterprise Applications blade and finding the enterprise application you created earlier. The object ID should be there.",
"consentType": "please refer to principalID attribute below for more information on the consent type; we will want to put Principal here to grant permissions to a single user",
"expiryTime": "2027-10-08T19:26:10.0101209 (Insert your expiration time here)",
"principalId": "If consentType is "AllPrincipals", the principal ID value should be null, and this consent will apply to all users in the organization.
If consentType is "Principal" then this property specifies the objectId of the user that granted consent, and applies only to that user.",
"resourceId": " bd8e522d-efb5-447e-a2aa-6f500446f2e1, place the resource ID of the resource you want your user to have access to, here I have placed an o365 exchange online object ID ",
"scope": "(insert your scopes/permissions for the user here)",
"startTime": "0001-01-01T00:00:00"
}
</pre>
<p>For more information on the entity: OAuth2Permission Grant please refer to our documentation here: <a href="https://msdn.microsoft.com/en-us/library/azure/ad/graph/api/entity-and-complex-type-reference#oauth2permissiongrant-entity">https://msdn.microsoft.com/en-us/library/azure/ad/graph/api/entity-and-complex-type-reference#oauth2permissiongrant-entity</a><br />
The scopes you can use are listed below.<br />
Delegated (work or school account) Directory.ReadWrite.All, Directory.AccessAsUser.All<br />
Delegated (personal Microsoft account) Not supported.<br />
Application Directory.ReadWrite.All</p>
<h1>Conclusion</h1>
<p>By using the Azure Active Directory Graph API and sending a Post Request to the OAuth2PermissionGrant endpoint we are able to give a single user the proper scopes to access a secured API. I refer to another blog using Postman to get an access token utilizing the Authorization Code Flow in order to access the Microsoft Graph API. Note that the same process to get an access token for the Microsoft Graph API will be used to get an access to the AAD Graph API. The only difference will be to grant the proper permissions to the AAD Graph API instead of the Microsoft Graph API and to set a different resource when requesting the access token. After getting access to the AAD Graph API we construct the Post request to the oauth2permissions grant endpoint in the AAD Graph API creating the service principal for the AAD User so that they can access a secured API based on the object ID of the user using a service principal in AAD.<br />
[poet-badge]</p>
]]></content:encoded>
					
					<wfw:commentRss>https://frankhu-rds.github.io/frankthoughts/2018/06/azure-active-directory-giving-permissions-for-a-specific-user/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
